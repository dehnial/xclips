<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="robots" content="index, follow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>xclips</title>

    <script src="scripts/plugins/jquery-3.1.1.min.js"></script>
    <script src="scripts/xapi.js"></script>
    <script src="scripts/loader.js"></script>

    <link href="css/spectre.min.css" rel="stylesheet" />
    <link href="css/spectre-exp.min.css" rel="stylesheet" />
    <link href="css/styles.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link rel="icon" href="favico.ico" />
</head>

<body>
    <header class="navbar">
        <section class="navbar-section">
            <i class="material-icons">videogame_asset</i>
            <a href="#" class="navbar-brand mr-10">xClips</a>
        </section>

        <section class="navbar-section">
            <div class="input-group input-inline">
                <input id="txtGamertag" class="form-input" type="text" placeholder="gamertag" />
                <button id="btnGamertagSearch" class="btn btn-primary input-group-btn">Search</button>
            </div>
        </section>
    </header>

    <div id="content" class="container"></div>

    <footer>
        <section>
            hello world
        </section>
        <section class="logo">
            <img src="img/logo_bw.png" class="img-fit-contain" alt="BondVisuals" />
        </section>
    </footer>

    <script>
        var gamertagSearch_click = function () {
            $("#txtGamertag").removeClass("is-error");

            // get the search term
            var tag = $("#txtGamertag").val();

            // verify search term is valid
            if (/^[A-Za-z0-9\s]{1,}$/g.test(tag)) {

                // get the xuid for the user
                xapi.getXUID(tag, function (xuid) {
                    xapi.currentXUID = xuid;

                    // load profile page
                    loader.load("profile");
                });

            }
            else {
                $("#txtGamertag").addClass("is-error");
            }

        };
        $("#btnGamertagSearch").click(gamertagSearch_click);

        $("#txtGamertag").keypress(function (e) {
            if (e.which == 13) {
                $("#txtGamertag").blur();
                $("#btnGamertagSearch").click();
            }
        });
    </script>
</body>

</html>